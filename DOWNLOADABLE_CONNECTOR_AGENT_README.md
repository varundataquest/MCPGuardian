# MCP Guardian Connector Agent üì¶

**Standalone code generation tool for connecting to MCP servers**

## üéØ Overview

The MCP Guardian Connector Agent is a powerful standalone tool that generates ready-to-use code for connecting your applications to MCP servers. It supports multiple frameworks and provides comprehensive setup instructions.

## üöÄ Quick Start

### **1. Run the Connector Agent**
```bash
python downloadable_connector_agent.py
```

### **2. Generated Files**
The tool will create:
- `google_drive_mcp_server_agent.py` - Ready-to-run agent code
- `google_drive_mcp_server_setup_instructions.md` - Complete setup guide
- `google_drive_mcp_server_requirements.txt` - Dependencies
- `google_drive_mcp_server_env_template.txt` - Environment variables

### **3. Use the Generated Code**
```bash
# Install dependencies
pip install -r google_drive_mcp_server_requirements.txt

# Set up environment variables
cp google_drive_mcp_server_env_template.txt .env
# Edit .env with your credentials

# Run the agent
python google_drive_mcp_server_agent.py
```

## ‚ú® Features

### **üîß Multi-Framework Support**
- **LangChain**: Traditional agent framework with tools
- **AutoGen**: Multi-agent conversation framework
- **LangGraph**: Stateful workflow framework
- **Custom**: Simple direct server connections

### **üì¶ Complete Code Generation**
- **Agent Code**: Full implementation with error handling
- **Setup Instructions**: Step-by-step configuration guide
- **Dependencies**: All required packages and versions
- **Environment Template**: Secure credential management

### **üõ°Ô∏è Security-First Design**
- **Environment Variables**: No hardcoded secrets
- **Error Handling**: Comprehensive error management
- **Input Validation**: Secure parameter handling
- **Logging**: Detailed operation logging

### **üéØ Smart Code Generation**
- **Framework-Specific**: Optimized for each framework
- **Server-Aware**: Tailored to specific MCP server capabilities
- **Task-Oriented**: Generated based on user requirements
- **Production-Ready**: Includes best practices and patterns

## üìã Generated Files

### **Agent Code File**
```python
#!/usr/bin/env python3
"""
MCP Agent for google-drive-mcp-server
Generated by MCP Guardian
Task: Agent that can handle file operations
"""

import os
import asyncio
from typing import List, Dict, Any
from langchain.agents import AgentExecutor, create_openai_functions_agent
from langchain.tools import BaseTool
from langchain_openai import ChatOpenAI
from langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder
from modelcontextprotocol import ClientSession, StdioServerParameters
from modelcontextprotocol.models import TextContent

# ... complete implementation
```

### **Setup Instructions**
```markdown
# Google Drive MCP Server Agent Setup

## Prerequisites
- Python 3.10+
- OpenAI API key
- Google Drive API credentials

## Installation
1. Install dependencies: `pip install -r requirements.txt`
2. Set up environment variables
3. Configure Google Drive API
4. Test the connection

## Usage
- Run: `python google_drive_mcp_server_agent.py`
- Interactive: Use natural language commands
- File operations: Upload, download, share files
```

### **Requirements File**
```txt
langchain>=0.2.0
langchain-openai>=0.1.0
modelcontextprotocol>=0.1.0
openai>=1.0.0
python-dotenv>=1.0.0
```

### **Environment Template**
```bash
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Google Drive Configuration
GOOGLE_DRIVE_CLIENT_ID=your_client_id
GOOGLE_DRIVE_CLIENT_SECRET=your_client_secret
GOOGLE_DRIVE_REFRESH_TOKEN=your_refresh_token
```

## üîß Framework-Specific Features

### **LangChain Framework**
- **Tool Integration**: Seamless MCP server tool integration
- **Agent Executor**: Full agent execution environment
- **Memory Management**: Conversation history and context
- **Error Recovery**: Graceful error handling and recovery

### **AutoGen Framework**
- **Multi-Agent**: Multiple agent conversations
- **Code Execution**: Safe code execution environment
- **Conversation Flow**: Natural conversation management
- **Task Delegation**: Intelligent task distribution

### **LangGraph Framework**
- **State Management**: Persistent conversation state
- **Workflow Control**: Complex workflow orchestration
- **Node Integration**: Modular node-based architecture
- **Graph Execution**: Efficient graph-based processing

### **Custom Framework**
- **Direct Connection**: Simple server connections
- **Minimal Dependencies**: Lightweight implementation
- **Custom Logic**: Flexible custom implementations
- **Easy Integration**: Simple integration with existing code

## üõ†Ô∏è Usage Examples

### **File Operations Agent**
```bash
# Generate file operations agent
python downloadable_connector_agent.py

# Use the generated agent
python google_drive_mcp_server_agent.py

# Example interactions:
# "Upload a file to my Google Drive"
# "Download the latest report"
# "Share the project folder with my team"
```

### **Email Management Agent**
```bash
# Generate email management agent
python downloadable_connector_agent.py

# Use the generated agent
python gmail_mcp_server_agent.py

# Example interactions:
# "Send an email to john@example.com"
# "Check my inbox for urgent messages"
# "Create a new email draft"
```

### **Database Operations Agent**
```bash
# Generate database operations agent
python downloadable_connector_agent.py

# Use the generated agent
python postgres_mcp_server_agent.py

# Example interactions:
# "Query the users table"
# "Create a new database backup"
# "Show the latest orders"
```

## üîí Security Features

### **Credential Management**
- **Environment Variables**: Secure credential storage
- **No Hardcoding**: No secrets in generated code
- **Template Files**: Safe credential templates
- **Access Control**: Proper permission management

### **Error Handling**
- **Graceful Failures**: Proper error recovery
- **User Feedback**: Clear error messages
- **Logging**: Comprehensive error logging
- **Validation**: Input and parameter validation

### **Data Protection**
- **Secure Connections**: Encrypted communication
- **Input Sanitization**: Safe input handling
- **Output Filtering**: Secure output processing
- **Audit Trail**: Operation logging and tracking

## üìä Performance Features

### **Optimized Code**
- **Async Operations**: Non-blocking operations
- **Connection Pooling**: Efficient resource management
- **Caching**: Smart result caching
- **Memory Management**: Efficient memory usage

### **Scalability**
- **Modular Design**: Easy to extend and modify
- **Configuration**: Flexible configuration options
- **Plugin Architecture**: Extensible functionality
- **Resource Management**: Efficient resource utilization

## üîß Customization

### **Modifying Generated Code**
```python
# Add custom functionality
class CustomGoogleDriveTool(BaseTool):
    def __init__(self, session: ClientSession):
        super().__init__()
        self.session = session
    
    async def _arun(self, query: str) -> str:
        # Add your custom logic here
        return "Custom response"
```

### **Extending Capabilities**
```python
# Add new tools
tools = [
    GoogleDriveTool(session),
    CustomGoogleDriveTool(session),  # Your custom tool
    # Add more tools as needed
]
```

### **Configuration Options**
```python
# Customize agent behavior
agent = GoogleDriveAgent(
    model="gpt-4-turbo",  # Custom model
    temperature=0.1,      # Custom temperature
    max_tokens=2000       # Custom token limit
)
```

## üöÄ Deployment

### **Local Development**
```bash
# Development setup
python downloadable_connector_agent.py
python generated_agent.py
```

### **Production Deployment**
```bash
# Production setup
pip install -r requirements.txt
cp env_template.txt .env
# Configure .env with production credentials
python generated_agent.py
```

### **Docker Deployment**
```dockerfile
FROM python:3.10-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY generated_agent.py .
COPY .env .

CMD ["python", "generated_agent.py"]
```

## üîß Troubleshooting

### **Common Issues**

**Import Errors:**
```bash
# Install missing dependencies
pip install -r requirements.txt
pip install --upgrade pip
```

**Authentication Errors:**
```bash
# Check environment variables
echo $OPENAI_API_KEY
echo $GOOGLE_DRIVE_CLIENT_ID
```

**Connection Errors:**
```bash
# Test MCP server connection
python -c "from modelcontextprotocol import ClientSession; print('MCP available')"
```

### **Debug Mode**
```bash
# Enable debug logging
export DEBUG=true
python generated_agent.py
```

### **Verbose Output**
```bash
# Enable verbose logging
export VERBOSE=true
python generated_agent.py
```

## üìà Monitoring

### **Performance Metrics**
- **Response Times**: Track agent response times
- **Success Rates**: Monitor operation success rates
- **Error Rates**: Track error frequencies
- **Resource Usage**: Monitor memory and CPU usage

### **Logging**
- **Application Logs**: Agent operation logs
- **Error Logs**: Error tracking and reporting
- **Performance Logs**: Response time monitoring
- **Audit Logs**: Operation audit trails

## ü§ù Contributing

### **Adding New Frameworks**
1. Create framework-specific code generator
2. Add framework to the main connector agent
3. Update documentation and examples
4. Test with various MCP servers

### **Improving Code Generation**
1. Enhance code templates
2. Add more customization options
3. Improve error handling
4. Optimize performance

### **Extending Capabilities**
1. Add new server types
2. Implement additional tools
3. Enhance security features
4. Improve user experience

---

**MCP Guardian Connector Agent** - Making MCP server integration simple, secure, and powerful! üöÄ‚ú® 